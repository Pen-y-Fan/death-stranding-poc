# Death Stranding PoC

I want to expand the PoC for Death stranding, to include:

- A table of orders
- A table of deliveries

The only data structure with mutable data is the delivery, which is related to an order, and the order is related to a
client and destination. The delivery data should be persisted to local storage.

## Tech stack:

- Rust compile to WASM
- Able to run locally with web browser server
- Able to deploy to GitHub page

## Requirements

- Table displaying five orders (static content - possible JSON or similar)
- When the web app is started local storage is checked and initialised )more details late)
- Button to take an order for delivery
- When the button is chosen a delivery is created
- The button to tank and order is hidden
- A button to deliver and order displays
- The current state of deliveries is saved to local storage
- When the web app is restarted it reads the deliveries from storage
- When the project is pushed to GitHub main (after a PR), a GutHub action will build the project and be available as a
  GitHub Page (static page with WASM and local storage for persistence)

## Local dev environment

- IDE: RustRover by JetBrains
- macOS with Homebrew
- Rust toolchain installed (rustup, cargo)

## Quickstart (Web build and local run)

1. Install prerequisites:
   - rustup target add wasm32-unknown-unknown
   - cargo install wasm-pack
   - Optional local server: cargo install basic-http-server
2. Build for web:
   - wasm-pack build --target web --release
3. Serve the project root (so ./index.html can find ./pkg):
   - basic-http-server .
   - then open http://127.0.0.1:4000

## Testing

- Run native tests: cargo test

## Notes

- index.html imports ./pkg/death_stranding_poc.js which is generated by wasm-pack.
- Deliveries are persisted to browser localStorage; native builds noop those code paths behind cfg(target_arch = "wasm32").
- Pinned dependency versions: wasm-bindgen 0.2.92, web-sys 0.3.78, serde 1.0.210, serde_json 1.0.128. To upgrade: bump versions in Cargo.toml keeping wasm-bindgen/web-sys on compatible pairs, then run `cargo update` and validate with `wasm-pack build` and `cargo test`.
